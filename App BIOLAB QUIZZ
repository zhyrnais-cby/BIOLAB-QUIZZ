{"cells":[{"cell_type":"code","execution_count":1,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":547},"id":"JgyyM1ChP1FC","outputId":"f258ac78-ea0c-4ae3-c7b1-eae7290d68d1","executionInfo":{"status":"error","timestamp":1763708455867,"user_tz":-420,"elapsed":8540,"user":{"displayName":"siti aisyatur rodhiyah","userId":"01217607731223426999"}}},"outputs":[{"output_type":"stream","name":"stdout","text":["File data tidak ditemukan. Membuat data baru.\n","Selamat Datang! Masukkan nama panggilan Anda: ais\n","\n","**************************************************\n","      Selamat Datang di Kuis Biologi, ais!\n","      Poin Anda: 500 | High Score: 0\n","**************************************************\n","1. Mulai Kuis (Pilih Kelas & Level)\n","2. Peringkat (Leaderboard)\n","3. Cek Profil \n","4. Misi Harian\n","5. Toko Item (Belanja Item Bantuan)\n","0. Keluar\n"]},{"output_type":"error","ename":"KeyboardInterrupt","evalue":"Interrupted by user","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)","\u001b[0;32m/tmp/ipython-input-2785561174.py\u001b[0m in \u001b[0;36m<cell line: 0>\u001b[0;34m()\u001b[0m\n\u001b[1;32m    598\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0m__name__\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m\"__main__\"\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    599\u001b[0m     \u001b[0mgame\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mBiologyQuizGame\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 600\u001b[0;31m     \u001b[0mgame\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmain_menu\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m/tmp/ipython-input-2785561174.py\u001b[0m in \u001b[0;36mmain_menu\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m    576\u001b[0m             \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"0. Keluar\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    577\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 578\u001b[0;31m             \u001b[0mchoice\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0minput\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Pilih Opsi (0-5): \"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    579\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    580\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mchoice\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m'1'\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.12/dist-packages/ipykernel/kernelbase.py\u001b[0m in \u001b[0;36mraw_input\u001b[0;34m(self, prompt)\u001b[0m\n\u001b[1;32m   1175\u001b[0m                 \u001b[0;34m\"raw_input was called, but this frontend does not support input requests.\"\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1176\u001b[0m             )\n\u001b[0;32m-> 1177\u001b[0;31m         return self._input_request(\n\u001b[0m\u001b[1;32m   1178\u001b[0m             \u001b[0mstr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mprompt\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1179\u001b[0m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_parent_ident\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"shell\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.12/dist-packages/ipykernel/kernelbase.py\u001b[0m in \u001b[0;36m_input_request\u001b[0;34m(self, prompt, ident, parent, password)\u001b[0m\n\u001b[1;32m   1217\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mKeyboardInterrupt\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1218\u001b[0m                 \u001b[0;31m# re-raise KeyboardInterrupt, to truncate traceback\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1219\u001b[0;31m                 \u001b[0;32mraise\u001b[0m \u001b[0mKeyboardInterrupt\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Interrupted by user\"\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1220\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mException\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1221\u001b[0m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlog\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwarning\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Invalid Message:\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mexc_info\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mTrue\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyboardInterrupt\u001b[0m: Interrupted by user"]}],"source":["import time\n","import json\n","import os\n","import random\n","\n","# --- DATA PERMAINAN (Simulasi Database) ---\n","# Data akan disimpan dan dimuat (persistence)\n","DEFAULT_USER_DATA = {\n","    \"username\": \"PemainBaru\",\n","    \"points\": 500, # Poin awal untuk belanja\n","    \"inventory\": {\"50_50\": 1, \"skip\": 0, \"freeze\": 0},\n","    \"high_score\": 0,\n","    \"total_questions_answered\": 0,\n","    \"completed_missions\": [],\n","    \"last_login\": time.time()\n","}\n","\n","# Konfigurasi Level dan Hadiah\n","LEVEL_SETTINGS = {\n","    \"Mudah\": {\"time_limit\": 40, \"base_points\": 10, \"multiplier\": 1.0, \"num_questions\": 15},\n","    \"Sedang\": {\"time_limit\": 40, \"base_points\": 25, \"multiplier\": 1.5, \"num_questions\": 15},\n","    \"Sulit\": {\"time_limit\": 40, \"base_points\": 50, \"multiplier\": 2.0, \"num_questions\": 15}\n","}\n","\n","# Data Item Toko\n","SHOP_ITEMS = {\n","    \"50_50\": {\"cost\": 150, \"description\": \"Menghapus 2 opsi jawaban yang salah (1 kali pakai).\"},\n","    \"skip\": {\"cost\": 300, \"description\": \"Melewati pertanyaan tanpa kehilangan poin (1 kali pakai).\"},\n","    \"freeze\": {\"cost\": 500, \"description\": \"Menambah waktu pengerjaan 10 detik di tengah kuis (1 kali pakai).\"}\n","}\n","\n","# Daftar Misi (Disimulasikan as daily missions)\n","MISSIONS = [\n","    {\"id\": \"M1\", \"description\": \"Jawab 15 soal dengan benar dalam mode 'Mudah'.\", \"target_type\": \"correct_easy\", \"target_value\": 15, \"reward\": 300},\n","    {\"id\": \"M2\", \"description\": \"Jawab 20 soal dengan benar dalam mode 'Sulit'.\", \"target_type\": \"correct_hard\", \"target_value\": 20, \"reward\": 500},\n","    {\"id\": \"M3\", \"description\": \"Mainkan 25 sesi kuis (semua level).\", \"target_type\": \"quiz_sessions\", \"target_value\": 25, \"reward\": 1000}\n","]\n","\n","# Kumpulan Soal Biologi (Diperlukan data dummy yang memadai)\n","QUESTIONS = [\n","    # Kelas X\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Organel sel yang berfungsi sebagai 'pembangkit energi' adalah...\", \"options\": [\"Mitokondria\", \"Ribosom\", \"Lisosom\", \"Vakuola\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Bagian sel yang mengatur seluruh aktivitas sel adalah...\", \"options\": [\"Inti sel\", \"Sitoplasma\", \"Dinding sel\", \"Membran sel\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Organel yang berperan dalam sintesis protein adalah...\", \"options\": [\"Mitokondria\", \"Ribosom\", \"Badan Golgi\", \"Retikulum Endoplasma\"], \"answer\": \"B\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Virus\", \"text\": \"Virus hanya dapat hidup di dalam sel hidup, sehingga disebut...\", \"options\": [\"Parasit obligat\", \"Autotrof\", \"Heterotrof\", \"Saprofit\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Virus\", \"text\": \"Bahan genetik virus dapat berupa...\", \"options\": [\"DNA saja\", \"RNA saja\", \"DNA atau RNA\", \"Protein\"], \"answer\": \"C\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Struktur sel tumbuhan yang memberikan bentuk dan kekuatan adalah...\", \"options\": [\"Membran sel\", \"Dinding sel\", \"Sitoplasma\", \"Vakuola\"], \"answer\": \"B\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Organel yang berfungsi mencerna zat sisa adalah...\", \"options\": [\"Mitokondria\", \"Ribosom\", \"Lisosom\", \"Badan Golgi\"], \"answer\": \"C\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Virus\", \"text\": \"Bentuk virus yang paling sederhana adalah...\", \"options\": [\"Bakteriofag\", \"Icosahedral\", \"Helikal\", \"Kompleks\"], \"answer\": \"C\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Virus\", \"text\": \"Siklus replikasi virus yang menyebabkan lisis sel inang adalah...\", \"options\": [\"Siklus litik\", \"Siklus lisogenik\", \"Siklus replikatif\", \"Siklus transformatif\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Keanekaragaman Hayati\", \"text\": \"Contoh keanekaragaman tingkat gen adalah...\", \"options\": [\"Berbagai jenis mangga\", \"Berbagai ras anjing\", \"Hutan dan sawah\", \"Populasi gajah di Afrika\"], \"answer\": \"B\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Keanekaragaman Hayati\", \"text\": \"Keanekaragaman hayati dipengaruhi oleh faktor...\", \"options\": [\"Genetik dan lingkungan\", \"Hanya genetik\", \"Hanya lingkungan\", \"Iklim saja\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Keanekaragaman Hayati\", \"text\": \"Contoh keanekaragaman tingkat spesies adalah...\", \"options\": [\"Padi, jagung, gandum\", \"Mawar merah dan mawar putih\", \"Hutan bakau dan hutan pinus\", \"Burung di satu habitat\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Keanekaragaman Hayati\", \"text\": \"Upaya pelestarian keanekaragaman hayati di habitat aslinya disebut...\", \"options\": [\"In situ\", \"Ex situ\", \"Reboisasi\", \"Konservasi\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Bagian sel yang mengatur keluar masuknya zat adalah...\", \"options\": [\"Dinding sel\", \"Membran sel\", \"Sitoplasma\", \"Inti sel\"], \"answer\": \"B\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Virus\", \"text\": \"Penyakit yang disebabkan oleh virus adalah, kecuali...\", \"options\": [\"Flu\", \"Campak\", \"TBC\", \"AIDS\"], \"answer\": \"C\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Keanekaragaman Hayati\", \"text\": \"Pembentukan spesies baru disebut...\", \"options\": [\"Adaptasi\", \"Evolusi\", \"Spesiasi\", \"Mutasi\"], \"answer\": \"C\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Sel\", \"text\": \"Fungsi utama retikulum endoplasma kasar adalah...\", \"options\": [\"Sintesis lipid\", \"Detoksifikasi\", \"Sintesis protein\", \"Transportasi vesikel\"], \"answer\": \"C\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Virus\", \"text\": \"Virus yang menyerang bakteri disebut...\", \"options\": [\"Bakteriofag\", \"Retrovirus\", \"Adenovirus\", \"Herpesvirus\"], \"answer\": \"A\"},\n","    {\"class\": \"X\", \"level\": \"Mudah\", \"topic\": \"Keanekaragaman Hayati\", \"text\": \"Contoh keanekaragaman ekosistem adalah...\", \"options\": [\"Hutan dan sawah\", \"Berbagai jenis padi\", \"Berbagai ras kucing\", \"Populasi harimau\"], \"answer\": \"A\"},\n","\n","\n","    # Kelas XI\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Pertukaran oksigen dan karbon dioksida terjadi pada...\", \"options\": [\"Trakea\", \"Bronkus\", \"Alveolus\", \"Laring\"], \"answer\": \"C\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Gas yang diangkut oleh hemoglobin dalam darah adalah...\", \"options\": [\"Karbon dioksida\", \"Oksigen\", \"Nitrogen\", \"Hidrogen\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Organ ekskresi utama pada manusia adalah...\", \"options\": [\"Kulit\", \"Paru-paru\", \"Ginjal\", \"Hati\"], \"answer\": \"C\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Zat sisa metabolisme protein yang dibuang melalui urine adalah...\", \"options\": [\"Glukosa\", \"Asam laktat\", \"Urea\", \"Asam lemak\"], \"answer\": \"C\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan meristem yang terdapat di ujung akar dan batang adalah...\", \"options\": [\"Meristem apikal\", \"Meristem lateral\", \"Meristem interkalar\", \"Kambium\"], \"answer\": \"A\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan pengangkut air dan mineral dari tanah ke daun adalah...\", \"options\": [\"Floem\", \"Xilem\", \"Parenkim\", \"Kolensim\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan dasar yang mengisi ruang antar jaringan lain pada tumbuhan adalah...\", \"options\": [\"Epidermis\", \"Korteks\", \"Stele\", \"Parenkim\"], \"answer\": \"D\"},\n","     {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Bagian sistem pernapasan yang berfungsi menyaring dan menghangatkan udara adalah...\", \"options\": [\"Alveolus\", \"Bronkus\", \"Trakea\", \"Rongga hidung\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Gangguan pada ginjal yang disebabkan oleh penumpukan kristal kalsium adalah...\", \"options\": [\"Nefritis\", \"Batu ginjal\", \"Gagal ginjal\", \"Diabetes insipidus\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Diferensiasi sel-sel meristem untuk membentuk jaringan permanen disebut...\", \"options\": [\"Pertumbuhan primer\", \"Pertumbuhan sekunder\", \"Morfogenesis\", \"Histogenesis\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Otot utama yang berperan dalam proses inspirasi adalah...\", \"options\": [\"Otot antar tulang rusuk\", \"Otot diafragma\", \"Otot perut\", \"Otot leher\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Organ yang menghasilkan empedu untuk membantu pencernaan lemak adalah...\", \"options\": [\"Ginjal\", \"Hati\", \"Pankreas\", \"Limpa\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan yang berfungsi sebagai pelindung pada permukaan tumbuhan adalah...\", \"options\": [\"Parenkim\", \"Kolensim\", \"Sklerensim\", \"Epidermis\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Bagian laring yang berfungsi mencegah makanan masuk ke saluran pernapasan adalah...\", \"options\": [\"Epiglotis\", \"Glotis\", \"Pita suara\", \"Kartilago tiroid\"], \"answer\": \"A\"},\n","    {\"class\": \"XI\", \"level\": \"Mudah\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Penyakit kuning disebabkan oleh gangguan pada organ...\", \"options\": [\"Ginjal\", \"Hati\", \"Paru-paru\", \"Kulit\"], \"answer\": \"B\"},\n","\n","\n","    # Kelas XI - Sedang\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Volume udara yang masih tersisa di paru-paru setelah ekspirasi maksimal adalah...\", \"options\": [\"Volume tidal\", \"Volume cadangan inspirasi\", \"Volume cadangan ekspirasi\", \"Volume residu\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Tahap pembentukan urine yang terjadi di glomerulus adalah...\", \"options\": [\"Filtrasi\", \"Reabsorpsi\", \"Augmentasi\", \"Sekresi\"], \"answer\": \"A\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Hormon yang mengatur reabsorpsi air di tubulus ginjal adalah...\", \"options\": [\"Insulin\", \"Adrenalin\", \"ADH\", \"Tiroksin\"], \"answer\": \"C\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan yang berfungsi sebagai jaringan penguat pada tumbuhan muda adalah...\", \"options\": [\"Parenkim\", \"Kolensim\", \"Sklerensim\", \"Epidermis\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan yang tersusun dari sel-sel mati dengan dinding sel tebal berkayu adalah...\", \"options\": [\"Parenkim\", \"Kolensim\", \"Sklerensim\", \"Epidermis\"], \"answer\": \"C\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Kapasitas vital paru-paru adalah jumlah dari...\", \"options\": [\"Volume tidal + volume residu\", \"Volume tidal + volume cadangan inspirasi + volume cadangan ekspirasi\", \"Volume tidal + volume cadangan inspirasi\", \"Volume residu + volume cadangan ekspirasi\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Proses pengeluaran keringat diatur oleh saraf...\", \"options\": [\"Simpatik\", \"Parasimpatik\", \"Somatik\", \"Autonom\"], \"answer\": \"A\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Bagian akar yang berperan dalam penyerapan air dan mineral adalah...\", \"options\": [\"Tudung akar\", \"Epidermis\", \"Korteks\", \"Rambut akar\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Penyakit pada saluran pernapasan yang ditandai penyempitan bronkus adalah...\", \"options\": [\"Pneumonia\", \"Bronkitis\", \"Emfisema\", \"Asma\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Bagian nefron yang berfungsi mereabsorpsi zat-zat yang masih berguna adalah...\", \"options\": [\"Glomerulus\", \"Kapsula Bowman\", \"Tubulus kontortus proksimal\", \"Tubulus kolektivus\"], \"answer\": \"C\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Jaringan yang terbentuk dari aktivitas kambium vaskular adalah...\", \"options\": [\"Xilem primer dan floem primer\", \"Xilem sekunder dan floem sekunder\", \"Korteks dan empulur\", \"Epidermis dan periderm\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Pengangkutan karbon dioksida dalam darah sebagian besar dalam bentuk...\", \"options\": [\"Karbon dioksida terlarut\", \"Karbonat\", \"Karbaminohemoglobin\", \"Bikarbonat\"], \"answer\": \"D\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Ekskresi\", \"text\": \"Gangguan pada hati yang ditandai dengan kerusakan sel-sel hati adalah...\", \"options\": [\"Hepatitis\", \"Nefrosis\", \"Uremia\", \"Diabetes melitus\"], \"answer\": \"A\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Jaringan Tumbuhan\", \"text\": \"Stomata pada daun berfungsi untuk...\", \"options\": [\"Transpirasi dan gutasi\", \"Transpirasi dan pertukaran gas\", \"Fotosintesis dan respirasi\", \"Penyerapan air dan mineral\"], \"answer\": \"B\"},\n","    {\"class\": \"XI\", \"level\": \"Sedang\", \"topic\": \"Sistem Pernapasan\", \"text\": \"Pusat pengaturan pernapasan pada otak terletak di...\", \"options\": [\"Cerebrum\", \"Cerebellum\", \"Medulla oblongata\", \"Pons Varolii\"], \"answer\": \"C\"},\n","\n","\n","     # Kelas XII - Sulit\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Tahap respirasi sel yang menghasilkan ATP paling banyak adalah...\", \"options\": [\"Glikolisis\", \"Siklus Krebs\", \"Transpor elektron\", \"Fermentasi\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Enzim yang berperan dalam memecah molekul substrat disebut...\", \"options\": [\"Kofaktor\", \"Koenzim\", \"Apoenzim\", \"Holoenzim\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Genetika\", \"text\": \"Perbandingan fenotipe F2 pada persilangan dihibrid dengan dominasi penuh adalah...\", \"options\": [\"3:1\", \"1:2:1\", \"9:3:3:1\", \"1:1\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Genetika\", \"text\": \"Perubahan materi genetik pada tingkat kromosom disebut...\", \"options\": [\"Mutasi gen\", \"Mutasi kromosom\", \"Rekombinasi\", \"Transkripsi\"], \"answer\": \"B\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Organ-organ tubuh yang memiliki struktur dasar sama tetapi fungsi berbeda disebut...\", \"options\": [\"Homolog\", \"Analog\", \"Vestigial\", \"Konvergen\"], \"answer\": \"A\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Bukti evolusi yang didasarkan pada perbandingan embrio dari berbagai spesies adalah...\", \"options\": [\"Fosil\", \"Anatomi perbandingan\", \"Embriologi perbandingan\", \"Biokimia perbandingan\"], \"answer\": [\"Fosil\", \"Anatomi perbandingan\", \"Embriologi perbandingan\", \"Biokimia perbandingan\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Hukum Hardy-Weinberg berlaku jika populasi memenuhi syarat-syarat berikut, kecuali...\", \"options\": [\"Ukuran populasi besar\", \"Tidak terjadi mutasi\", \"Terjadi migrasi\", \"Perkawinan acak\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Proses pembentukan spesies baru dari spesies yang sudah ada disebut...\", \"options\": [\"Adaptasi\", \"Spesiasi\", \"Radiasi adaptif\", \"Seleksi alam\"], \"answer\": \"B\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Proses sintesis glukosa dari senyawa non-karbohidrat disebut...\", \"options\": [\"Glikolisis\", \"Glikogenolisis\", \"Glukoneogenesis\", \"Glikogenesis\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Enzim yang mempercepat reaksi kimia tanpa ikut bereaksi disebut...\", \"options\": [\"Substrat\", \"Kofaktor\", \"Inhibitor\", \"Katalis\"], \"answer\": \"D\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Genetika\", \"text\": \"Peristiwa bertukarnya segmen kromosom homolog saat meiosis disebut...\", \"options\": [\"Duplikasi\", \"Delesi\", \"Translokasi\", \"Pindah silang\"], \"answer\": \"D\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Genetika\", \"text\": \"Pola pewarisan sifat yang dipengaruhi oleh dua atau lebih gen disebut...\", \"options\": [\"Dominasi penuh\", \"Kodominasi\", \"Epistasis-hipostasis\", \"Poligenik\"], \"answer\": \"D\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Perubahan frekuensi alel dalam populasi dari generasi ke generasi disebut...\", \"options\": [\"Adaptasi\", \"Mutasi\", \"Aliran gen\", \"Evolusi\"], \"answer\": \"D\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Struktur sisa organ yang tidak berfungsi lagi pada organisme disebut...\", \"options\": [\"Homolog\", \"Analog\", \"Vestigial\", \"Atavisme\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Proses penguraian lemak menjadi asam lemak dan gliserol disebut...\", \"options\": [\"Glikolisis\", \"Beta-oksidasi\", \"Siklus Krebs\", \"Transpor elektron\"], \"answer\": \"B\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Tahap fotosintesis yang tidak memerlukan cahaya adalah...\", \"options\": [\"Reaksi terang\", \"Siklus Calvin\", \"Fotolisis air\", \"Transfer elektron nonsiklik\"], \"answer\": \"B\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Genetika\", \"text\": \"Sindrom Down disebabkan oleh kelainan pada kromosom nomor...\", \"options\": [\"13\", \"18\", \"21\", \"XXY\"], \"answer\": \"C\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Evolusi\", \"text\": \"Teori asal usul kehidupan yang menyatakan kehidupan berasal dari benda mati secara spontan disebut...\", \"options\": [\"Abiogenesis\", \"Biogenesis\", \"Panspermia\", \"Teori evolusi kimia\"], \"answer\": \"A\"},\n","    {\"class\": \"XII\", \"level\": \"Sulit\", \"topic\": \"Metabolisme\", \"text\": \"Proses pembentukan glikogen dari glukosa disebut...\", \"options\": [\"Glikolisis\", \"Glikogenolisis\", \"Glukoneogenesis\", \"Glikogenesis\"], \"answer\": \"D\"},\n","]\n","# --- END DATA PERMAINAN ---\n","\n","class BiologyQuizGame:\n","    def __init__(self, data_file=\"game_data.json\"):\n","        self.data_file = data_file\n","        self.user_data = DEFAULT_USER_DATA.copy()\n","        self.leaderboard = []\n","        self.load_data()\n","\n","        # Inisialisasi Misi Harian/Progress Tracking\n","        self.mission_progress = self.init_mission_progress()\n","        self.quiz_session_count = 0 # Track untuk misi\n","\n","    def load_data(self):\n","        \"\"\"Memuat data pengguna dan leaderboard dari file.\"\"\"\n","        try:\n","            with open(self.data_file, 'r') as f:\n","                data = json.load(f)\n","                self.user_data = data.get('user_data', DEFAULT_USER_DATA)\n","                # Ensure all default inventory items exist in loaded data\n","                for item, count in DEFAULT_USER_DATA['inventory'].items():\n","                    if item not in self.user_data['inventory']:\n","                        self.user_data['inventory'][item] = count\n","                self.leaderboard = data.get('leaderboard', [])\n","            print(f\"[{self.user_data['username']}] Data dimuat.\")\n","\n","            # Reset daily missions if a new day has passed (simulated)\n","            if time.time() - self.user_data.get('last_login', 0) > 86400: # 24 hours\n","                self.reset_missions()\n","            self.user_data['last_login'] = time.time()\n","\n","        except FileNotFoundError:\n","            print(\"File data tidak ditemukan. Membuat data baru.\")\n","            self.save_data()\n","        except json.JSONDecodeError:\n","            print(\"Kesalahan dalam membaca data. Membuat data baru.\")\n","            self.save_data()\n","\n","    def save_data(self):\n","        \"\"\"Menyimpan data pengguna dan leaderboard ke file.\"\"\"\n","        data = {\n","            'user_data': self.user_data,\n","            'leaderboard': self.leaderboard\n","        }\n","        with open(self.data_file, 'w') as f:\n","            json.dump(data, f, indent=4)\n","\n","    def init_mission_progress(self):\n","        \"\"\"Menginisialisasi progres misi berdasarkan data misi yang belum selesai.\"\"\"\n","        progress = {}\n","        for mission in MISSIONS:\n","            if mission['id'] not in self.user_data['completed_missions']:\n","                progress[mission['id']] = 0\n","        return progress\n","\n","    def reset_missions(self):\n","        \"\"\"Mereset daftar misi yang sudah selesai untuk 'hari' baru.\"\"\"\n","        print(\"--- MISI HARIAN DIRESET! Bersiap untuk tantangan baru! ---\")\n","        self.user_data['completed_missions'] = []\n","        self.mission_progress = self.init_mission_progress()\n","\n","    # --- PENGATURAN PROFIL ---\n","\n","    def display_profile(self):\n","        \"\"\"Menampilkan profil pengguna, item, dan statistik.\"\"\"\n","        print(\"\\n\" + \"=\"*40)\n","        print(\"        P R O F I L  P E N G G U N A\")\n","        print(\"=\"*40)\n","        print(f\"Nama Pengguna: {self.user_data['username']}\")\n","        print(f\"Total Poin: {self.user_data['points']}\")\n","        print(f\"Skor Tertinggi (Satu Sesi Kuis): {self.user_data['high_score']}\")\n","        print(f\"Total Soal Dijawab: {self.user_data['total_questions_answered']}\")\n","        print(\"-\" * 40)\n","        print(\"INVENTORI ITEM:\")\n","        for item, count in self.user_data['inventory'].items():\n","            print(f\"  - {item.upper()}: {count} buah\")\n","        print(\"=\"*40)\n","        input(\"Tekan Enter untuk kembali ke Menu Utama...\")\n","\n","    # --- LOGIKA KUIS ---\n","\n","    def start_quiz_session(self):\n","        \"\"\"Memulai alur pemilihan kuis: Kelas -> Level -> Kuis.\"\"\"\n","        print(\"\\n--- P I L I H A N  K E L A S ---\")\n","        print(\"1. Kelas X \")\n","        print(\"2. Kelas XI \")\n","        print(\"3. Kelas XII \")\n","        print(\"0. Kembali\")\n","\n","        choice_class = input(\"Pilih Kelas (0/1/2/3): \")\n","        if choice_class == '0':\n","            return\n","\n","        class_map = {'1': 'X', '2': 'XI', '3': 'XII'}\n","        selected_class = class_map.get(choice_class)\n","\n","        if not selected_class:\n","            print(\"Pilihan tidak valid.\")\n","            return\n","\n","        print(f\"\\n--- P I L I H A N  L E V E L ({selected_class}) ---\")\n","        level_map = {'1': 'Mudah', '2': 'Sedang', '3': 'Sulit'}\n","        for i, (level, settings) in enumerate(LEVEL_SETTINGS.items(), 1):\n","            print(f\"{i}. {level} (Waktu: {settings['time_limit']}s, Poin Dasar: {settings['base_points']}, Soal: {settings['num_questions']})\")\n","        print(\"0. Kembali\")\n","\n","        choice_level = input(\"Pilih Level (0/1/2/3): \")\n","        selected_level = level_map.get(choice_level)\n","\n","        if not selected_level:\n","            print(\"Pilihan tidak valid atau Kembali.\")\n","            return\n","\n","        self._run_quiz(selected_class, selected_level)\n","\n","    def _run_quiz(self, selected_class, selected_level):\n","        \"\"\"Menjalankan sesi kuis.\"\"\"\n","        self.quiz_session_count += 1\n","\n","        # Filter questions by class and level\n","        available_questions = [q for q in QUESTIONS if q['class'] == selected_class and q['level'] == selected_level]\n","        num_questions_setting = LEVEL_SETTINGS[selected_level][\"num_questions\"]\n","\n","        # Ensure there are enough questions\n","        if len(available_questions) < num_questions_setting:\n","            print(f\"Mohon maaf, hanya ada {len(available_questions)} soal di kelas {selected_class} level {selected_level}.\")\n","            num_questions = len(available_questions)\n","            if num_questions == 0:\n","                input(\"Tekan Enter untuk melanjutkan...\")\n","                return\n","        else:\n","            num_questions = num_questions_setting\n","\n","\n","        quiz_questions = random.sample(available_questions, num_questions)\n","        settings = LEVEL_SETTINGS[selected_level].copy() # Use a copy to modify time_limit with freeze item\n","\n","        session_score = 0\n","        correct_count = 0\n","\n","        # Misi tracking lokal\n","        session_correct_easy = 0\n","        session_correct_hard = 0\n","\n","        print(\"\\n\" + \"#\"*50)\n","        print(f\"  KUIS DIMULAI: KELAS {selected_class} | LEVEL {selected_level.upper()}\")\n","        print(f\"  Jumlah Soal: {num_questions}\")\n","        print(f\"  Waktu pengerjaan per soal: {settings['time_limit']} detik.\")\n","        print(\"#\"*50 + \"\\n\")\n","\n","        # Item Usage Before Quiz Starts\n","        print(\"\\n--- GUNAKAN ITEM SEBELUM KUIS ---\")\n","        print(\"Inventori Anda:\")\n","        for item, count in self.user_data['inventory'].items():\n","             print(f\"  - {item.upper()}: {count} buah\")\n","        print(\"Pilihan Item: 50 (50:50), S (Skip), F (Freeze), N (Tidak)\")\n","        use_item_before = input(\"Gunakan item? (50/S/F/N): \").upper()\n","\n","        used_50_50_on_first = False\n","        skip_first_question = False\n","\n","        if use_item_before == '50' and self.user_data['inventory'].get('50_50', 0) > 0:\n","            used_50_50_on_first = True\n","            self.user_data['inventory']['50_50'] -= 1\n","            print(\">> Item 50:50 akan digunakan pada soal pertama yang memungkinkan.\")\n","        elif use_item_before == 'S' and self.user_data['inventory'].get('skip', 0) > 0:\n","            skip_first_question = True\n","            self.user_data['inventory']['skip'] -= 1\n","            print(\">> Soal pertama akan dilewati.\")\n","        elif use_item_before == 'F' and self.user_data['inventory'].get('freeze', 0) > 0:\n","            settings['time_limit'] += 10 # Tambah waktu 10 detik\n","            self.user_data['inventory']['freeze'] -= 1\n","            print(\">> Waktu pengerjaan setiap soal ditambah 10 detik!\")\n","        elif use_item_before in ('50', 'S', 'F'):\n","             print(\">> Item tidak tersedia atau input salah. Lanjutkan tanpa item.\")\n","        else:\n","            print(\">> Tidak menggunakan item.\")\n","\n","\n","        input(\"Tekan Enter untuk memulai soal pertama...\")\n","\n","\n","        for i, q in enumerate(quiz_questions, 1):\n","            if i == 1 and skip_first_question:\n","                 print(\"\\n--- SOAL 1/{num_questions} ({q['topic']}) ---\")\n","                 print(\">> Soal dilewati menggunakan item Skip.\")\n","                 continue\n","\n","            print(f\"\\n--- SOAL {i}/{num_questions} ({q['topic']}) ---\")\n","\n","            current_options = list(zip(['A', 'B', 'C', 'D'], q['options']))\n","            correct_option_letter = q['answer']\n","\n","            if i == 1 and used_50_50_on_first:\n","                 current_options = self.use_50_50(current_options, correct_option_letter)\n","\n","\n","            print(f\"Waktu Pengerjaan: {settings['time_limit']} detik\")\n","            print(f\"Soal: {q['text']}\")\n","            for letter, option in current_options:\n","                print(f\"  ({letter}) {option}\")\n","\n","            # Simulasi Waktu Pengerjaan\n","            start_time = time.time()\n","\n","            user_answer = input(\"Jawaban Anda (A/B/C/D): \").upper()\n","\n","            end_time = time.time()\n","            time_taken = end_time - start_time\n","\n","            self.user_data['total_questions_answered'] += 1\n","\n","            if time_taken > settings['time_limit']:\n","                print(\"\\n!!! WAKTU HABIS !!!\")\n","                print(f\"Jawaban benar adalah: ({correct_option_letter}) {q['options'][ord(correct_option_letter) - ord('A')]}\")\n","            elif user_answer == correct_option_letter:\n","                correct_count += 1\n","\n","                # Perhitungan Poin berdasarkan waktu\n","                time_bonus_factor = max(0.1, 1 - (time_taken / settings['time_limit'])) # minimal 0.1\n","                points_earned = int(settings['base_points'] * settings['multiplier'] * (1 + time_bonus_factor))\n","                session_score += points_earned\n","\n","                print(\"\\n>>> BENAR! Anda menjawab dalam {:.2f}s.\".format(time_taken))\n","\n","                # Update misi tracking\n","                if selected_level == 'Mudah':\n","                    session_correct_easy += 1\n","                elif selected_level == 'Sulit':\n","                    session_correct_hard += 1\n","            else:\n","                print(f\"\\n>>> SALAH. Jawaban benar adalah: ({correct_option_letter}) {q['options'][ord(correct_option_letter) - ord('A')]}\")\n","\n","            # Jeda antar soal\n","            # Removed input(\"Tekan Enter untuk ke soal berikutnya...\")\n","\n","\n","        # --- Akhir Kuis ---\n","        print(\"\\n\" + \"=\"*50)\n","        print(\"          S E S I  K U I S  S E L E S AI\")\n","        print(\"=\"*50)\n","        print(f\"Total Jawaban Benar: {correct_count}/{num_questions}\")\n","        print(f\"Total Poin Dihasilkan: {session_score}\") # Menampilkan total poin di akhir\n","\n","        self.user_data['points'] += session_score\n","\n","        if session_score > self.user_data['high_score']:\n","            self.user_data['high_score'] = session_score\n","            print(\">>> SKOR TERTINGGI BARU! Selamat!\")\n","\n","        # Update Leaderboard\n","        self.update_leaderboard(session_score)\n","\n","        # Update Misi\n","        self.update_mission_progress(session_correct_easy, session_correct_hard)\n","\n","        self.save_data()\n","        input(\"Tekan Enter untuk kembali ke Menu Utama...\")\n","\n","    def use_50_50(self, options, correct_letter):\n","        \"\"\"Implementasi item 50:50.\"\"\"\n","        correct_option = [opt for letter, opt in options if letter == correct_letter][0]\n","\n","        # Pilih satu opsi salah secara acak\n","        wrong_options = [opt for letter, opt in options if letter != correct_letter]\n","        kept_wrong_option = random.choice(wrong_options)\n","\n","        # Buat list baru yang hanya berisi opsi benar dan opsi salah yang tersisa\n","        new_options = []\n","        for letter, option in options:\n","            if option == correct_option or option == kept_wrong_option:\n","                new_options.append((letter, option))\n","            else:\n","                new_options.append((letter, \"DIHAPUS\"))\n","\n","        print(\">> Item 50:50 digunakan! Dua opsi salah telah dihapus.\")\n","        return new_options\n","\n","    # --- LOGIKA TOKO ITEM ---\n","\n","    def display_shop(self):\n","        \"\"\"Menampilkan daftar item yang bisa dibeli.\"\"\"\n","        print(\"\\n--- T O K O  I T E M ---\")\n","        print(f\"Poin Anda saat ini: {self.user_data['points']}\")\n","        print(\"-\" * 40)\n","\n","        shop_list = list(SHOP_ITEMS.items())\n","        for i, (item_id, item_info) in enumerate(shop_list, 1):\n","            current_stock = self.user_data['inventory'].get(item_id, 0)\n","            print(f\"{i}. {item_id.upper()} (Harga: {item_info['cost']} Poin)\")\n","            print(f\"   Deskripsi: {item_info['description']}\")\n","            print(f\"   Anda Punya: {current_stock} buah\")\n","            print(\"-\" * 40)\n","\n","        print(\"0. Kembali ke Menu Utama\")\n","\n","        choice = input(\"Pilih nomor item untuk dibeli (0-{}): \".format(len(shop_list)))\n","        if choice == '0':\n","            return\n","\n","        try:\n","            item_index = int(choice) - 1\n","            if 0 <= item_index < len(shop_list):\n","                item_id = shop_list[item_index][0]\n","                self.purchase_item(item_id)\n","            else:\n","                print(\"Pilihan tidak valid.\")\n","        except ValueError:\n","            print(\"Input harus berupa angka.\")\n","\n","    def purchase_item(self, item_id):\n","        \"\"\"Logika pembelian item.\"\"\"\n","        item = SHOP_ITEMS.get(item_id)\n","        if not item:\n","            print(\"Item tidak ditemukan.\")\n","            return\n","\n","        cost = item['cost']\n","        if self.user_data['points'] >= cost:\n","            self.user_data['points'] -= cost\n","            self.user_data['inventory'][item_id] = self.user_data['inventory'].get(item_id, 0) + 1\n","            print(f\"\\n!!! Selamat! Anda membeli 1x {item_id.upper()} seharga {cost} Poin. !!!\")\n","            print(f\"Sisa Poin Anda: {self.user_data['points']}\")\n","            self.save_data()\n","        else:\n","            print(f\"\\n!!! Gagal. Poin Anda ({self.user_data['points']}) tidak cukup. Butuh {cost} Poin. !!!\")\n","\n","        input(\"Tekan Enter untuk melanjutkan...\")\n","\n","    # --- LOGIKA MISI DAN HADIAH ---\n","\n","    def display_missions(self):\n","        \"\"\"Menampilkan daftar misi harian dan progresnya.\"\"\"\n","        print(\"\\n--- M I S I  H A R I A N ---\")\n","        print(f\"Total Poin: {self.user_data['points']}\")\n","        print(\"-\" * 50)\n","\n","        pending_missions = [m for m in MISSIONS if m['id'] not in self.user_data['completed_missions']]\n","\n","        if not pending_missions:\n","            print(\"SEMUA MISI HARI INI TELAH DISELESAIKAN! Cek kembali besok.\")\n","\n","        for i, mission in enumerate(pending_missions, 1):\n","            mission_id = mission['id']\n","            progress = self.mission_progress.get(mission_id, 0)\n","            target = mission['target_value']\n","\n","            print(f\"Misi {i}. ({mission_id})\")\n","            print(f\"  Deskripsi: {mission['description']}\")\n","            print(f\"  Progres: {progress}/{target}\")\n","            print(f\"  Hadiah: {mission['reward']} Poin\")\n","            print(\"-\" * 50)\n","\n","        input(\"Tekan Enter untuk kembali ke Menu Utama...\")\n","\n","    def update_mission_progress(self, correct_easy, correct_hard):\n","        \"\"\"Memperbarui progres misi berdasarkan hasil kuis.\"\"\"\n","\n","        # Misi: Sesi Kuis\n","        for mission in MISSIONS:\n","            if mission['target_type'] == 'quiz_sessions' and mission['id'] not in self.user_data['completed_missions']:\n","                self.mission_progress[mission['id']] += 1\n","\n","        # Misi: Benar Mudah\n","        for mission in MISSIONS:\n","            if mission['target_type'] == 'correct_easy' and mission['id'] not in self.user_data['completed_missions']:\n","                self.mission_progress[mission['id']] += correct_easy\n","\n","        # Misi: Benar Sulit\n","        for mission in MISSIONS:\n","            if mission['target_type'] == 'correct_hard' and mission['id'] not in self.user_data['completed_missions']:\n","                self.mission_progress[mission['id']] += correct_hard\n","\n","\n","        # Cek dan Klaim Hadiah\n","        rewards_claimed = 0\n","        for mission in MISSIONS:\n","            mission_id = mission['id']\n","            if mission_id not in self.user_data['completed_missions']:\n","                current_progress = self.mission_progress.get(mission_id, 0)\n","                if current_progress >= mission['target_value']:\n","                    self.user_data['points'] += mission['reward']\n","                    self.user_data['completed_missions'].append(mission_id)\n","                    print(f\"\\n!!! MISI SELESAI ({mission_id})! Mendapat +{mission['reward']} Poin !!!\")\n","                    rewards_claimed += 1\n","\n","        if rewards_claimed > 0:\n","            self.save_data()\n","\n","    # --- PERINGKAT (LEADERBOARD) ---\n","\n","    def update_leaderboard(self, session_score):\n","        \"\"\"Memperbarui leaderboard dengan skor sesi tertinggi.\"\"\"\n","\n","        # Cari apakah pengguna sudah ada di leaderboard\n","        found = False\n","        for entry in self.leaderboard:\n","            if entry['username'] == self.user_data['username']:\n","                # Update jika skor sesi ini lebih tinggi dari high_score sebelumnya\n","                if session_score > entry['score']:\n","                    entry['score'] = session_score\n","                found = True\n","                break\n","\n","        # Jika pengguna baru atau belum ada\n","        if not found:\n","            self.leaderboard.append({\n","                \"username\": self.user_data['username'],\n","                \"score\": session_score\n","            })\n","\n","        # Urutkan Leaderboard\n","        self.leaderboard.sort(key=lambda x: x['score'], reverse=True)\n","        # Batasi Leaderboard (misal, 10 teratas)\n","        self.leaderboard = self.leaderboard[:10]\n","        self.save_data()\n","\n","    def display_leaderboard(self):\n","        \"\"\"Menampilkan 10 pemain teratas.\"\"\"\n","        print(\"\\n--- P E R I N G K A T  T E R T I N G G I ---\")\n","        print(\"Berdasarkan Poin Tertinggi dalam Satu Sesi Kuis\")\n","        print(\"=\"*40)\n","        print(\"No. | Username             | Skor\")\n","        print(\"-\" * 40)\n","\n","        if not self.leaderboard:\n","            print(\"Peringkat kosong. Mulai mainkan kuis!\")\n","\n","        for i, entry in enumerate(self.leaderboard, 1):\n","            username_display = entry['username'][:20].ljust(20) # Batasi 20 karakter\n","            print(f\"{i:2}. | {username_display} | {entry['score']}\")\n","\n","        print(\"=\"*40)\n","        input(\"Tekan Enter untuk kembali ke Menu Utama...\")\n","\n","    # --- MENU UTAMA ---\n","\n","    def main_menu(self):\n","        \"\"\"Menampilkan menu utama dan mengarahkan ke fungsionalitas lain.\"\"\"\n","        while True:\n","            # Tentukan Nama Pengguna jika masih default\n","            if self.user_data['username'] == \"PemainBaru\":\n","                new_name = input(\"Selamat Datang! Masukkan nama panggilan Anda: \")\n","                if new_name:\n","                    self.user_data['username'] = new_name\n","                    self.save_data()\n","\n","            print(\"\\n\" + \"*\"*50)\n","            print(f\"      Selamat Datang di Kuis Biologi, {self.user_data['username']}!\")\n","            print(f\"      Poin Anda: {self.user_data['points']} | High Score: {self.user_data['high_score']}\")\n","            print(\"*\"*50)\n","            print(\"1. Mulai Kuis (Pilih Kelas & Level)\")\n","            print(\"2. Peringkat (Leaderboard)\")\n","            print(\"3. Cek Profil \")\n","            print(\"4. Misi Harian\")\n","            print(\"5. Toko Item (Belanja Item Bantuan)\")\n","            print(\"0. Keluar\")\n","\n","            choice = input(\"Pilih Opsi (0-5): \")\n","\n","            if choice == '1':\n","                self.start_quiz_session()\n","            elif choice == '2':\n","                self.display_leaderboard()\n","            elif choice == '3':\n","                self.display_profile()\n","            elif choice == '4':\n","                self.display_missions()\n","            elif choice == '5':\n","                self.display_shop()\n","            elif choice == '0':\n","                print(\"Terima kasih sudah bermain! Data Anda telah tersimpan.\")\n","                self.save_data()\n","                break\n","            else:\n","                print(\"Pilihan tidak valid. Silakan coba lagi.\")\n","\n","\n","if __name__ == \"__main__\":\n","    game = BiologyQuizGame()\n","    game.main_menu()"]}],"metadata":{"colab":{"provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}